parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Focm":[function(require,module,exports) {
var e,t,o,n,r,i,a,h="write a text-based horror adventure prompt, with 2-3 choices numbered",s="write a text-based horror adventure prompt, with 2-3 choices numbered\n\nYou wake up in a strange room with no windows and one door. \n\n\t1\tExamine the room for clues\n2. Try the door\n3. Scream for help\n\nTry the door\nYou cautiously approach the door and reach for the handle. The door is locked. \n\n\t1\tLook for a key\n2. Try to break down the door\n3. Scream for help\n\nScream for help\nYou call out for help, but the only response is a deep, menacing laugh from somewhere in the room. \n\n\t1\tHide\n2. Search the room for the source of the laugh\n3. Try to break down the door\n\nSearch the room for the source of the laugh\nYou slowly move around the room, searching for the source of the laugh. You finally find it: a tall figure in a dark cloak standing in the corner of the room. \n\n\t1\tRun for the door\n2. Talk to the figure\n3. Attack the figure\n\nScream for help\nYou call out for help, but the only response is a deep, menacing laugh from somewhere in the room. \n\n\t1\tHide\n2. Search the room for the source of the laugh\n3. Try to break down the door\n\nSearch the room for the source of the laugh\nYou slowly move around the room, searching for the source of the laugh. You finally find it: a tall figure in a dark cloak standing in the corner of the room. \n",c={},l=1,u=30,d=!0,f=!1,p=!1,m=7;function g(){v(),(r=createImg("https://win98icons.alexmeub.com/icons/png/printer-0.png","printer icon")).attribute("title","Click to save adventure as image file."),r.class("ninetyfive-button"),r.mousePressed(function(){save(n,"ai-loves-horror-portrait.jpg")}),(i=createImg("https://win98icons.alexmeub.com/icons/png/netmeeting-0.png","refresh icon")).attribute("title","Click to replay."),i.class("ninetyfive-button"),i.mousePressed(function(){location.reload()}),(a=createImg("https://win98icons.alexmeub.com/icons/png/file_question.png","readme icon")).attribute("title","Click to read more about this project."),a.class("ninetyfive-button"),a.mousePressed(function(){open("https://raw.githubusercontent.com/iguannalin/ai-loves-horror/main/README.md")}),[r,i,a].forEach(function(e){e.hide()})}function w(){n=createCanvas(windowWidth,windowHeight)}function b(){if(!t||d)return push(),fill("#FFC107"),textSize(16),textAlign(CENTER),translate(width/2,height-50),text("Loading...",0,0),void pop();random()>.75?background(255,255,255,.3):clear(),fill("green");var e=width/5,o=width-e,n=height-e,s=t.replace(h,"Type 1, 2, or 3 on the keyboard to continue the story.");if(textWrap(WORD),textFont("Times New Roman"),textSize(20),textAlign(LEFT,BOTTOM),text(s.substring(0,l),60,0,width>600?o:width-60,n),l<s.length&&(l++,T(),frameRate(random(20,u+=.2))),!c||p){push(),fill("#FFC107"),textSize(16),textAlign(CENTER),translate(width/2,height-50),text("\nThere are no choices left.",0,0),p||noLoop(),pop();var f=150;[r,i,a].forEach(function(e){e.position(width/2+f,height-70),f+=60,e.show()})}}function v(){if(d=!0,p)return e=s,k(t?e.substring(t.length):e),t=e,void setTimeout(function(){d=!1,clearTimeout()},500);fetch("https://api.openai.com/v1/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer sess-QTLLs1UOLM752lCXVsLd1NSKrYaWeBtTuumGl5Ux"},body:JSON.stringify({model:"text-davinci-003",prompt:t||h,max_tokens:256,temperature:.7,top_p:1,frequency_penalty:0,presence_penalty:0,best_of:1,echo:!0,logprobs:0})}).then(function(e){return e.json()}).then(function(o){var n=o.choices[0].text;k(e=t?n.substring(t.length):n),t=n,d=!1,f=!1})}function y(){resizeCanvas(windowWidth,windowHeight)}function x(){var e;if(!f){switch(f=!0,cboices={},keyCode){case 49:c[1]&&(e=c[1]);break;case 50:c[2]&&(e=c[2]);break;case 51:c[3]?e=c[3]:alert("please choose a valid choice")}e&&(t+="\n\n"+e+"\n",push(),fill("#FFC107"),textSize(16),textAlign(CENTER),translate(width/2,height-75),text(e,0,0),pop(),v())}}function k(e){if(e){for(var t=e.split(/\n[1-3][.]*/g),o=1;o<4;o++)t[o]&&(c[o]=t[o]);print({choices:c})}}function T(){if(random()>.998||m<7){m=0===m?7:m-1;for(var e=0;e<75;e++){var t=random(5,11);push(),stroke("rgba(163,255,197,0.56)"),fill("rgba(158,158,158,0.64)"),random()>.99&&fill("rgba(75,75,75,0.55)"),rect(random(0,width),random(0,height),t,t),pop()}}}
},{}]},{},["Focm"], null)
//# sourceMappingURL=/src.6c3568d5.js.map